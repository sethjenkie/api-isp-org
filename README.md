# ğŸŒ RezvanGate - Ø³Ø±ÙˆÛŒØ³ Ø¨Ø±Ø±Ø³ÛŒ Ø¢Ø¯Ø±Ø³ IP

<div dir="rtl">

ÛŒÚ© Ø³Ø±ÙˆÛŒØ³ ÙˆØ¨ Ù…Ø¯Ø±Ù† Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ø±Ø³ÛŒ Ùˆ Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ù…Ù„ Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ IP Ø¨Ø§ Ø±Ø§Ø¨Ø· Ú©Ø§Ø±Ø¨Ø±ÛŒ ÙØ§Ø±Ø³ÛŒ Ùˆ API Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ.

[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Node.js](https://img.shields.io/badge/Node.js-18+-green.svg)](https://nodejs.org)
[![React](https://img.shields.io/badge/React-19-blue.svg)](https://react.dev)

**ğŸ”— Ø¯Ù…Ùˆ Ø²Ù†Ø¯Ù‡:** [https://rezvanproject.ir](https://rezvanproject.ir)

</div>

---

## ğŸ“‘ ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨

<div dir="rtl">

- [Ø§Ù…Ú©Ø§Ù†Ø§Øª](#-Ø§Ù…Ú©Ø§Ù†Ø§Øª)
- [Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§](#-Ù¾ÛŒØ´Ù†ÛŒØ§Ø²Ù‡Ø§)
- [Ù†ØµØ¨ Ø³Ø±ÛŒØ¹ (ØªÙˆØ³Ø¹Ù‡)](#-Ù†ØµØ¨-Ø³Ø±ÛŒØ¹-ØªÙˆØ³Ø¹Ù‡)
- [Ù†ØµØ¨ Ø±ÙˆÛŒ Ø³Ø±ÙˆØ± (Production)](#-Ù†ØµØ¨-Ø±ÙˆÛŒ-Ø³Ø±ÙˆØ±-production)
- [ØªÙ†Ø¸ÛŒÙ… Nginx](#-ØªÙ†Ø¸ÛŒÙ…-nginx)
- [ØªÙ†Ø¸ÛŒÙ… Cloudflare](#-ØªÙ†Ø¸ÛŒÙ…-cloudflare-Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
- [API Documentation](#-api-documentation)
- [Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡](#-Ø³Ø§Ø®ØªØ§Ø±-Ù¾Ø±ÙˆÚ˜Ù‡)
- [Ø±ÙØ¹ Ù…Ø´Ú©Ù„Ø§Øª](#-Ø±ÙØ¹-Ù…Ø´Ú©Ù„Ø§Øª)

</div>

---

<div dir="rtl">

## âœ¨ Ø§Ù…Ú©Ø§Ù†Ø§Øª

- ğŸ” **Ø¬Ø³ØªØ¬ÙˆÛŒ IP** - Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù‡Ø± Ø¢Ø¯Ø±Ø³ IP (IPv4 Ùˆ IPv6)
- ğŸŒ **Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ** - Ú©Ø´ÙˆØ±ØŒ Ø´Ù‡Ø±ØŒ Ù…Ù†Ø·Ù‚Ù‡ØŒ Ú©Ø¯ Ù¾Ø³ØªÛŒ
- ğŸ“ **Ù…ÙˆÙ‚Ø¹ÛŒØª Ù…Ú©Ø§Ù†ÛŒ** - Ø·ÙˆÙ„ Ùˆ Ø¹Ø±Ø¶ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ
- ğŸ¢ **Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø¨Ú©Ù‡** - ISPØŒ Ø³Ø§Ø²Ù…Ø§Ù†ØŒ AS Name
- ğŸ• **Ù…Ù†Ø·Ù‚Ù‡ Ø²Ù…Ø§Ù†ÛŒ** - ØªØ´Ø®ÛŒØµ Ø®ÙˆØ¯Ú©Ø§Ø± timezone
- ğŸš€ **API Ø³Ø±ÛŒØ¹** - Ù¾Ø§Ø³Ø® JSON Ø¨Ø§ HTTPS
- ğŸ¨ **Ø·Ø±Ø§Ø­ÛŒ Ù…Ø¯Ø±Ù†** - ØªÙ… ØªÛŒØ±Ù‡ Ø¨Ø§ Ø±Ù†Ú¯ Ø³Ø¨Ø²
- ğŸ“± **ÙˆØ§Ú©Ù†Ø´â€ŒÚ¯Ø±Ø§** - Ø³Ø§Ø²Ú¯Ø§Ø± Ø¨Ø§ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ùˆ Ø¯Ø³Ú©ØªØ§Ù¾
- ğŸ”’ **Ø§Ù…Ù†ÛŒØª Ø¨Ø§Ù„Ø§** - Rate Limiting Ùˆ Security Headers
- ğŸŒ™ **PWA** - Ù‚Ø§Ø¨Ù„ Ù†ØµØ¨ Ø±ÙˆÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„
- â˜ï¸ **Cloudflare Ready** - Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù¾Ø´Øª Cloudflare

</div>

---

## ğŸ“¸ ØªØµÙˆÛŒØ±

<p align="center">
  <img src="screenshots/home.png" alt="ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ RezvanGate" width="90%">
</p>

---

<div dir="rtl">

## ğŸ“‹ Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§

Ù‚Ø¨Ù„ Ø§Ø² Ø´Ø±ÙˆØ¹ØŒ Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ Ø§ÛŒÙ† Ù…ÙˆØ§Ø±Ø¯ Ø±Ø§ Ø¯Ø§Ø±ÛŒØ¯:

</div>

| Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø± | Ù†Ø³Ø®Ù‡ | ØªÙˆØ¶ÛŒØ­Ø§Øª |
|-----------|------|---------|
| Node.js | 18+ | [Ø¯Ø§Ù†Ù„ÙˆØ¯](https://nodejs.org) |
| npm | 9+ | Ù‡Ù…Ø±Ø§Ù‡ Node.js Ù†ØµØ¨ Ù…ÛŒâ€ŒØ´ÙˆØ¯ |
| Git | 2+ | Ø¨Ø±Ø§ÛŒ clone Ú©Ø±Ø¯Ù† Ù¾Ø±ÙˆÚ˜Ù‡ |
| Nginx | 1.18+ | ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ production |

<div dir="rtl">

### Ø¨Ø±Ø±Ø³ÛŒ Ù†ØµØ¨ Ø¨ÙˆØ¯Ù† Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§:

</div>

```bash
node --version    # Ø¨Ø§ÛŒØ¯ v18 ÛŒØ§ Ø¨Ø§Ù„Ø§ØªØ± Ø¨Ø§Ø´Ø¯
npm --version     # Ø¨Ø§ÛŒØ¯ v9 ÛŒØ§ Ø¨Ø§Ù„Ø§ØªØ± Ø¨Ø§Ø´Ø¯
git --version     # Ø¨Ø§ÛŒØ¯ Ù†ØµØ¨ Ø¨Ø§Ø´Ø¯
```

---

<div dir="rtl">

## ğŸš€ Ù†ØµØ¨ Ø³Ø±ÛŒØ¹ (ØªÙˆØ³Ø¹Ù‡)

Ø§ÛŒÙ† Ø±ÙˆØ´ Ø¨Ø±Ø§ÛŒ ØªØ³Øª Ùˆ ØªÙˆØ³Ø¹Ù‡ Ø¯Ø± Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ± Ø´Ø®ØµÛŒ Ø§Ø³Øª.

</div>

### Ù‚Ø¯Ù… Û±: Ú©Ù„ÙˆÙ† Ú©Ø±Ø¯Ù† Ù¾Ø±ÙˆÚ˜Ù‡

```bash
git clone https://github.com/Noirc0re/api-isp-org.git
cd api-isp-org
```

### Ù‚Ø¯Ù… Û²: Ù†ØµØ¨ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§

```bash
npm install
```

### Ù‚Ø¯Ù… Û³: Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ GeoIP

<div dir="rtl">

Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø± Ú©Ø±Ø¯Ù† API Ø¨Ù‡ Ø¯ÛŒØªØ§Ø¨ÛŒØ³â€ŒÙ‡Ø§ÛŒ MaxMind GeoLite2 Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯.

ğŸ“– **[Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ú©Ø§Ù…Ù„ Ù†ØµØ¨ Ø¯ÛŒØªØ§Ø¨ÛŒØ³](DATABASE_SETUP.md)**

ÛŒØ§ Ø¨Ù‡ ØµÙˆØ±Øª Ø®Ù„Ø§ØµÙ‡:

</div>

1. Create account at [MaxMind](https://www.maxmind.com/en/geolite2/signup)
2. Generate a License Key
3. Download databases to `data/` folder:
   - `GeoLite2-Country.mmdb`
   - `GeoLite2-City.mmdb`
   - `GeoLite2-ASN.mmdb`

### Ù‚Ø¯Ù… Û´: Ø§Ø¬Ø±Ø§ÛŒ Ø³Ø±ÙˆØ± ØªÙˆØ³Ø¹Ù‡

<div dir="rtl">

Ø¯Ø± **Ø¯Ùˆ ØªØ±Ù…ÛŒÙ†Ø§Ù„ Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡** Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯:

</div>

**ØªØ±Ù…ÛŒÙ†Ø§Ù„ Û± - Frontend:**
```bash
npm run dev
```

**ØªØ±Ù…ÛŒÙ†Ø§Ù„ Û² - Backend API:**
```bash
npm run server
```

<div dir="rtl">

Ø­Ø§Ù„Ø§ Ù…Ø±ÙˆØ±Ú¯Ø± Ø±Ø§ Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯ Ùˆ Ø¨Ù‡ Ø¢Ø¯Ø±Ø³ Ø²ÛŒØ± Ø¨Ø±ÙˆÛŒØ¯:

</div>

```
http://localhost:5173
```

---

<div dir="rtl">

## ğŸ–¥ï¸ Ù†ØµØ¨ Ø±ÙˆÛŒ Ø³Ø±ÙˆØ± (Production)

Ø§ÛŒÙ† Ø¢Ù…ÙˆØ²Ø´ Ø¨Ø±Ø§ÛŒ Ø³Ø±ÙˆØ± Ubuntu/Debian Ø§Ø³Øª.

</div>

### Ù‚Ø¯Ù… Û±: Ø¢Ù¾Ø¯ÛŒØª Ø³ÛŒØ³ØªÙ… Ùˆ Ù†ØµØ¨ Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§

```bash
# Ø¢Ù¾Ø¯ÛŒØª Ø³ÛŒØ³ØªÙ…
sudo apt update && sudo apt upgrade -y

# Ù†ØµØ¨ Git
sudo apt install git -y

# Ù†ØµØ¨ Node.js 20 (LTS)
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt install nodejs -y

# Ø¨Ø±Ø±Ø³ÛŒ Ù†ØµØ¨
node --version
npm --version
```

### Ù‚Ø¯Ù… Û²: Ú©Ù„ÙˆÙ† Ú©Ø±Ø¯Ù† Ù¾Ø±ÙˆÚ˜Ù‡

```bash
# Ø±ÙØªÙ† Ø¨Ù‡ Ù¾ÙˆØ´Ù‡ home
cd ~

# Ú©Ù„ÙˆÙ† Ú©Ø±Ø¯Ù†
git clone https://github.com/Noirc0re/api-isp-org.git
cd api-isp-org

# Ù†ØµØ¨ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§
npm install
```

### Ù‚Ø¯Ù… Û³: Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ GeoIP

<div dir="rtl">

ğŸ“– **[Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ú©Ø§Ù…Ù„ Ù†ØµØ¨ Ø¯ÛŒØªØ§Ø¨ÛŒØ³](DATABASE_SETUP.md)**

</div>

```bash
# Create data directory
mkdir -p data

# Download databases (replace YOUR_ACCOUNT_ID and YOUR_LICENSE_KEY)
# See DATABASE_SETUP.md for detailed instructions
```

### Ù‚Ø¯Ù… Û´: Ø³Ø§Ø®Øª Ù†Ø³Ø®Ù‡ Production

```bash
npm run build
```

<div dir="rtl">

Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± Ù¾ÙˆØ´Ù‡ `dist` Ø±Ø§ Ù…ÛŒâ€ŒØ³Ø§Ø²Ø¯ Ú©Ù‡ Ø´Ø§Ù…Ù„ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ´Ø¯Ù‡ Ø§Ø³Øª.

</div>

### Ù‚Ø¯Ù… Ûµ: Ù†ØµØ¨ PM2 (Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø±ÙˆØ³Ù‡)

```bash
# Ù†ØµØ¨ PM2 Ø¨Ù‡ ØµÙˆØ±Øª global
npm install -g pm2

# Ø§Ø¬Ø±Ø§ÛŒ Backend Ø¨Ø§ PM2
pm2 start server/index.js --name "api-backend"

# Ø°Ø®ÛŒØ±Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ø±Ø§ÛŒ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±
pm2 save
pm2 startup
```

<div dir="rtl">

Ø¨Ø¹Ø¯ Ø§Ø² Ø§Ø¬Ø±Ø§ÛŒ `pm2 startup`ØŒ ÛŒÚ© Ø¯Ø³ØªÙˆØ± Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ø¢Ù† Ø±Ø§ Ú©Ù¾ÛŒ Ùˆ Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯.

</div>

### Ù‚Ø¯Ù… Û¶: Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø¬Ø±Ø§ÛŒ Backend

```bash
# Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª
pm2 status

# Ø¨Ø±Ø±Ø³ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§
pm2 logs api-backend

# ØªØ³Øª API
curl http://localhost:3001/health
```

<div dir="rtl">

Ø¨Ø§ÛŒØ¯ Ø®Ø±ÙˆØ¬ÛŒ Ø²ÛŒØ± Ø±Ø§ Ø¨Ø¨ÛŒÙ†ÛŒØ¯:

</div>

```json
{"status":"ok","timestamp":"2025-12-19T22:00:00.000Z"}
```

---

<div dir="rtl">

## ğŸ”§ ØªÙ†Ø¸ÛŒÙ… Nginx

</div>

### Ù‚Ø¯Ù… Û±: Ù†ØµØ¨ Nginx

```bash
sudo apt install nginx -y
```

### Ù‚Ø¯Ù… Û²: Ú©Ù¾ÛŒ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Frontend

```bash
# Ú©Ù¾ÛŒ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ build Ø´Ø¯Ù‡
sudo cp -r ~/api-isp-org/dist/* /var/www/html/

# Ú©Ù¾ÛŒ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ public (PWA, icons)
sudo cp -r ~/api-isp-org/public/* /var/www/html/
```

### Ù‚Ø¯Ù… Û³: ØªÙ†Ø¸ÛŒÙ… Ú©Ø§Ù†ÙÛŒÚ¯ Nginx

```bash
sudo nano /etc/nginx/sites-available/default
```

<div dir="rtl">

**ØªÙ…Ø§Ù… Ù…Ø­ØªÙˆØ§ÛŒ ÙØ§ÛŒÙ„ Ø±Ø§ Ù¾Ø§Ú© Ú©Ù†ÛŒØ¯** Ùˆ Ø§ÛŒÙ† Ø±Ø§ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ù†ÛŒØ¯:

</div>

```nginx
server {
    listen 80 default_server;
    listen [::]:80 default_server;

    root /var/www/html;
    index index.html;

    server_name _;

    # Frontend - React SPA
    location / {
        try_files $uri $uri/ /index.html;
    }

    # Backend API proxy
    location /api/ {
        rewrite ^/api/(.*)$ /$1 break;
        proxy_pass http://127.0.0.1:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    # Static files caching
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}
```

### Ù‚Ø¯Ù… Û´: ØªØ³Øª Ùˆ Ø§Ø¹Ù…Ø§Ù„ ØªÙ†Ø¸ÛŒÙ…Ø§Øª

```bash
# ØªØ³Øª Ú©Ø§Ù†ÙÛŒÚ¯
sudo nginx -t

# Ø§Ú¯Ø± OK Ø¨ÙˆØ¯ØŒ Ø±ÛŒâ€ŒØ§Ø³ØªØ§Ø±Øª Ú©Ù†ÛŒØ¯
sudo systemctl restart nginx
sudo systemctl enable nginx
```

### Ù‚Ø¯Ù… Ûµ: ØªØ³Øª Ù†Ù‡Ø§ÛŒÛŒ

```bash
# ØªØ³Øª Frontend
curl http://localhost/

# ØªØ³Øª API
curl http://localhost/api/health
curl http://localhost/api/ip/8.8.8.8
```

---

<div dir="rtl">

## â˜ï¸ ØªÙ†Ø¸ÛŒÙ… Cloudflare (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)

Ø§Ú¯Ø± Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§Ø² Cloudflare Ø¨Ø±Ø§ÛŒ SSL/HTTPS Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯:

</div>

### Ù‚Ø¯Ù… Û±: ØªÙ†Ø¸ÛŒÙ…Ø§Øª Cloudflare

<div dir="rtl">

1. ÙˆØ§Ø±Ø¯ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Cloudflare Ø´ÙˆÛŒØ¯
2. Ø¯Ø§Ù…Ù†Ù‡ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯
3. Ø¨Ù‡ **SSL/TLS â†’ Overview** Ø¨Ø±ÙˆÛŒØ¯
4. Ø­Ø§Ù„Øª **Full** ÛŒØ§ **Full (Strict)** Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯
5. Ø¨Ù‡ **SSL/TLS â†’ Edge Certificates** Ø¨Ø±ÙˆÛŒØ¯
6. **Always Use HTTPS** Ø±Ø§ ÙØ¹Ø§Ù„ Ú©Ù†ÛŒØ¯

</div>

### Ù‚Ø¯Ù… Û²: Ú©Ø§Ù†ÙÛŒÚ¯ Nginx Ø¨Ø±Ø§ÛŒ Cloudflare

<div dir="rtl">

ÙØ§ÛŒÙ„ Ú©Ø§Ù†ÙÛŒÚ¯ Nginx Ø±Ø§ ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ù†ÛŒØ¯:

</div>

```bash
sudo nano /etc/nginx/sites-available/default
```

<div dir="rtl">

Ø§ÛŒÙ† Ú©Ø§Ù†ÙÛŒÚ¯ Ú©Ø§Ù…Ù„ Ø±Ø§ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ù†ÛŒØ¯:

</div>

```nginx
server {
    listen 80 default_server;
    listen [::]:80 default_server;

    root /var/www/html;
    index index.html;

    server_name _;

    # Trust Cloudflare proxy - IPv4
    set_real_ip_from 103.21.244.0/22;
    set_real_ip_from 103.22.200.0/22;
    set_real_ip_from 103.31.4.0/22;
    set_real_ip_from 104.16.0.0/13;
    set_real_ip_from 104.24.0.0/14;
    set_real_ip_from 108.162.192.0/18;
    set_real_ip_from 131.0.72.0/22;
    set_real_ip_from 141.101.64.0/18;
    set_real_ip_from 162.158.0.0/15;
    set_real_ip_from 172.64.0.0/13;
    set_real_ip_from 173.245.48.0/20;
    set_real_ip_from 188.114.96.0/20;
    set_real_ip_from 190.93.240.0/20;
    set_real_ip_from 197.234.240.0/22;
    set_real_ip_from 198.41.128.0/17;
    
    # Trust Cloudflare proxy - IPv6
    set_real_ip_from 2400:cb00::/32;
    set_real_ip_from 2606:4700::/32;
    set_real_ip_from 2803:f800::/32;
    set_real_ip_from 2405:b500::/32;
    set_real_ip_from 2405:8100::/32;
    set_real_ip_from 2a06:98c0::/29;
    set_real_ip_from 2c0f:f248::/32;
    
    real_ip_header CF-Connecting-IP;
    real_ip_recursive on;

    # Frontend - React SPA
    location / {
        try_files $uri $uri/ /index.html;
    }

    # Backend API proxy
    location /api/ {
        rewrite ^/api/(.*)$ /$1 break;
        proxy_pass http://127.0.0.1:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header CF-Connecting-IP $http_cf_connecting_ip;
        proxy_cache_bypass $http_upgrade;
    }

    # Static files caching
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}
```

```bash
# ØªØ³Øª Ùˆ Ø§Ø¹Ù…Ø§Ù„
sudo nginx -t && sudo systemctl reload nginx
```

---

<div dir="rtl">

## ğŸ“¡ API Documentation

</div>

### Endpoints

| Method | Endpoint | ØªÙˆØ¶ÛŒØ­Ø§Øª |
|--------|----------|---------|
| `GET` | `/api/ip` | Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª IP Ú©Ø§Ø±Ø¨Ø± ÙØ¹Ù„ÛŒ |
| `GET` | `/api/ip/:ip` | Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª ÛŒÚ© IP Ø®Ø§Øµ |
| `GET` | `/api/health` | Ø¨Ø±Ø±Ø³ÛŒ Ø³Ù„Ø§Ù…Øª Ø³Ø±ÙˆØ± |

### Ù†Ù…ÙˆÙ†Ù‡ Ø¯Ø±Ø®ÙˆØ§Ø³Øª

```bash
# IP Ú©Ø§Ø±Ø¨Ø± ÙØ¹Ù„ÛŒ
curl https://your-domain.com/api/ip

# IP Ø®Ø§Øµ
curl https://your-domain.com/api/ip/8.8.8.8

# Health Check
curl https://your-domain.com/api/health
```

### Ù†Ù…ÙˆÙ†Ù‡ Ù¾Ø§Ø³Ø®

```json
{
  "ip": "8.8.8.8",
  "ipType": "IPv4",
  "country": "United States",
  "countryCode": "US",
  "region": "California",
  "regionCode": "CA",
  "city": "Mountain View",
  "postalCode": "94039",
  "latitude": 37.386,
  "longitude": -122.083,
  "timezone": "America/Los_Angeles",
  "isp": "Google LLC",
  "organization": "Google LLC",
  "asName": "AS15169 Google LLC",
  "ipv4": "8.8.8.8"
}
```

### ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ù¾Ø§Ø³Ø®

| ÙÛŒÙ„Ø¯ | Ù†ÙˆØ¹ | ØªÙˆØ¶ÛŒØ­Ø§Øª |
|------|-----|---------|
| `ip` | string | Ø¢Ø¯Ø±Ø³ IP |
| `ipType` | string | Ù†ÙˆØ¹ IP (`IPv4` ÛŒØ§ `IPv6`) |
| `country` | string | Ù†Ø§Ù… Ú©Ø´ÙˆØ± |
| `countryCode` | string | Ú©Ø¯ Ú©Ø´ÙˆØ± (ISO 3166-1) |
| `region` | string | Ù†Ø§Ù… Ø§Ø³ØªØ§Ù†/Ø§ÛŒØ§Ù„Øª |
| `regionCode` | string | Ú©Ø¯ Ø§Ø³ØªØ§Ù† |
| `city` | string | Ù†Ø§Ù… Ø´Ù‡Ø± |
| `postalCode` | string | Ú©Ø¯ Ù¾Ø³ØªÛŒ |
| `latitude` | number | Ø¹Ø±Ø¶ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ |
| `longitude` | number | Ø·ÙˆÙ„ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ |
| `timezone` | string | Ù…Ù†Ø·Ù‚Ù‡ Ø²Ù…Ø§Ù†ÛŒ |
| `isp` | string | Ø§Ø±Ø§Ø¦Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª |
| `organization` | string | Ø³Ø§Ø²Ù…Ø§Ù† |
| `asName` | string | Ø´Ù…Ø§Ø±Ù‡ Ùˆ Ù†Ø§Ù… AS |
| `ipv4` | string | Ø¢Ø¯Ø±Ø³ IPv4 (Ø§Ú¯Ø± Ù…ÙˆØ¬ÙˆØ¯) |
| `ipv6` | string | Ø¢Ø¯Ø±Ø³ IPv6 (Ø§Ú¯Ø± Ù…ÙˆØ¬ÙˆØ¯) |

---

<div dir="rtl">

## ğŸ“ Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡

</div>

```
api-isp-org/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.jsx          # Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ø§ØµÙ„ÛŒ React
â”‚   â”œâ”€â”€ App.css          # Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†
â”‚   â”œâ”€â”€ index.css        # Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù¾Ø§ÛŒÙ‡
â”‚   â””â”€â”€ main.jsx         # Ù†Ù‚Ø·Ù‡ ÙˆØ±ÙˆØ¯ React
â”œâ”€â”€ server/
â”‚   â””â”€â”€ index.js         # Ø³Ø±ÙˆØ± API (Express)
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ manifest.json    # ØªÙ†Ø¸ÛŒÙ…Ø§Øª PWA
â”‚   â”œâ”€â”€ sw.js            # Service Worker
â”‚   â”œâ”€â”€ robots.txt       # ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø±Ø¨Ø§Øªâ€ŒÙ‡Ø§
â”‚   â””â”€â”€ icons/           # Ø¢ÛŒÚ©ÙˆÙ†â€ŒÙ‡Ø§ÛŒ PWA
â”œâ”€â”€ dist/                # ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ build Ø´Ø¯Ù‡ (Ø¨Ø¹Ø¯ Ø§Ø² npm run build)
â”œâ”€â”€ index.html           # ÙØ§ÛŒÙ„ HTML Ø§ØµÙ„ÛŒ
â”œâ”€â”€ package.json         # ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§ Ùˆ Ø§Ø³Ú©Ø±ÛŒÙ¾Øªâ€ŒÙ‡Ø§
â”œâ”€â”€ vite.config.js       # ØªÙ†Ø¸ÛŒÙ…Ø§Øª Vite
â”œâ”€â”€ eslint.config.js     # ØªÙ†Ø¸ÛŒÙ…Ø§Øª ESLint
â””â”€â”€ README.md            # Ø§ÛŒÙ† ÙØ§ÛŒÙ„
```

---

<div dir="rtl">

## ğŸ”’ Ø§Ù…Ù†ÛŒØª

</div>

| ÙˆÛŒÚ˜Ú¯ÛŒ | ØªÙˆØ¶ÛŒØ­Ø§Øª |
|-------|---------|
| âœ… Rate Limiting | 100 Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯Ø± Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¨Ø±Ø§ÛŒ Ù‡Ø± IP |
| âœ… Security Headers | CSP, X-Frame-Options, X-XSS-Protection |
| âœ… Input Validation | Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ ÙØ±Ù…Øª IP |
| âœ… CORS | Ù…Ø­Ø¯ÙˆØ¯Ø³Ø§Ø²ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ cross-origin |
| âœ… Payload Limit | Ù…Ø­Ø¯ÙˆØ¯ÛŒØª 10KB Ø¨Ø±Ø§ÛŒ request body |
| âœ… HTTPS Ready | Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¨Ø§ SSL/TLS |

---

<div dir="rtl">

## ğŸ”§ Ø¯Ø³ØªÙˆØ±Ø§Øª Ù…ÙÛŒØ¯

</div>

### PM2

```bash
# ÙˆØ¶Ø¹ÛŒØª Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§
pm2 status

# Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„Ø§Ú¯â€ŒÙ‡Ø§
pm2 logs api-backend

# Ø±ÛŒâ€ŒØ§Ø³ØªØ§Ø±Øª
pm2 restart api-backend

# ØªÙˆÙ‚Ù
pm2 stop api-backend

# Ø­Ø°Ù
pm2 delete api-backend

# Ø°Ø®ÛŒØ±Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª
pm2 save
```

### Nginx

```bash
# ØªØ³Øª Ú©Ø§Ù†ÙÛŒÚ¯
sudo nginx -t

# Ø±ÛŒâ€ŒØ§Ø³ØªØ§Ø±Øª
sudo systemctl restart nginx

# Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø¬Ø¯Ø¯ (Ø¨Ø¯ÙˆÙ† Ù‚Ø·Ø¹ÛŒ)
sudo systemctl reload nginx

# ÙˆØ¶Ø¹ÛŒØª
sudo systemctl status nginx

# Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„Ø§Ú¯ Ø®Ø·Ø§
sudo tail -f /var/log/nginx/error.log

# Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„Ø§Ú¯ Ø¯Ø³ØªØ±Ø³ÛŒ
sudo tail -f /var/log/nginx/access.log
```

### Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡

```bash
cd ~/api-isp-org

# Ø¯Ø±ÛŒØ§ÙØª Ø¢Ø®Ø±ÛŒÙ† ØªØºÛŒÛŒØ±Ø§Øª
git pull

# Ù†ØµØ¨ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯
npm install

# Ø³Ø§Ø®Øª Ù…Ø¬Ø¯Ø¯
npm run build

# Ú©Ù¾ÛŒ Ø¨Ù‡ nginx
sudo cp -r dist/* /var/www/html/
sudo cp -r public/* /var/www/html/

# Ø±ÛŒâ€ŒØ§Ø³ØªØ§Ø±Øª backend
pm2 restart api-backend
```

---

<div dir="rtl">

## â“ Ø±ÙØ¹ Ù…Ø´Ú©Ù„Ø§Øª

</div>

### Ù…Ø´Ú©Ù„: API Ú©Ø§Ø± Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯

```bash
# Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø¬Ø±Ø§ÛŒ backend
pm2 status

# Ø§Ú¯Ø± stopped Ø¨ÙˆØ¯:
pm2 start server/index.js --name "api-backend"

# Ø¨Ø±Ø±Ø³ÛŒ Ù„Ø§Ú¯ Ø®Ø·Ø§
pm2 logs api-backend --err
```

### Ù…Ø´Ú©Ù„: Ø³Ø§ÛŒØª Ø¨Ø§Ø² Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯

```bash
# Ø¨Ø±Ø±Ø³ÛŒ nginx
sudo systemctl status nginx

# Ø§Ú¯Ø± Ø®Ø·Ø§ Ø¯Ø§Ø´Øª:
sudo nginx -t
sudo systemctl restart nginx
```

### Ù…Ø´Ú©Ù„: Invalid Query Ø¯Ø± API

<div dir="rtl">

Ø§ÛŒÙ† Ø®Ø·Ø§ Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ IP Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª. Ø§Ú¯Ø± Ù¾Ø´Øª Cloudflare Ù‡Ø³ØªÛŒØ¯:

</div>

1. Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ Ú©Ø§Ù†ÙÛŒÚ¯ Cloudflare Ø¯Ø± nginx Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù‡
2. `sudo nginx -t && sudo systemctl reload nginx`

### Ù…Ø´Ú©Ù„: Ù¾ÙˆØ±Øª 80 Ø§Ø´ØºØ§Ù„ Ø§Ø³Øª

```bash
# Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ù¾Ø±ÙˆØ³Ù‡ Ø±ÙˆÛŒ Ù¾ÙˆØ±Øª 80
sudo lsof -i :80

# Ù…ØªÙˆÙ‚Ù Ú©Ø±Ø¯Ù†
sudo fuser -k 80/tcp

# Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ nginx
sudo systemctl start nginx
```

---

<div dir="rtl">

## ğŸ› ï¸ ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒâ€ŒÙ‡Ø§

</div>

| ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ | Ù†Ø³Ø®Ù‡ | Ú©Ø§Ø±Ø¨Ø±Ø¯ |
|----------|------|--------|
| React | 19 | Frontend UI |
| Vite | 7 | Build Tool |
| Express | 5 | Backend API |
| Node.js | 18+ | Runtime |
| Nginx | 1.18+ | Web Server |
| PM2 | 5+ | Process Manager |
| ipwho.is | - | IP Geolocation API |

---

<div dir="rtl">

## ğŸ¤ Ù…Ø´Ø§Ø±Ú©Øª

Ø§Ø² Ù…Ø´Ø§Ø±Ú©Øª Ø´Ù…Ø§ Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…!

1. Ù¾Ø±ÙˆÚ˜Ù‡ Ø±Ø§ Fork Ú©Ù†ÛŒØ¯
2. ÛŒÚ© Branch Ø¬Ø¯ÛŒØ¯ Ø¨Ø³Ø§Ø²ÛŒØ¯ (`git checkout -b feature/amazing-feature`)
3. ØªØºÛŒÛŒØ±Ø§Øª Ø±Ø§ Commit Ú©Ù†ÛŒØ¯ (`git commit -m 'Add amazing feature'`)
4. Ø¨Ù‡ Branch Ø®ÙˆØ¯ Push Ú©Ù†ÛŒØ¯ (`git push origin feature/amazing-feature`)
5. ÛŒÚ© Pull Request Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯

</div>

---

<div dir="rtl">

## ğŸ“„ Ù„Ø§ÛŒØ³Ù†Ø³

Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ ØªØ­Øª Ù„Ø§ÛŒØ³Ù†Ø³ MIT Ù…Ù†ØªØ´Ø± Ø´Ø¯Ù‡ Ø§Ø³Øª. Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨ÛŒØ´ØªØ± ÙØ§ÛŒÙ„ [LICENSE](LICENSE) Ø±Ø§ Ø¨Ø¨ÛŒÙ†ÛŒØ¯.

</div>

---

<p align="center">
  Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø¨Ø§ â¤ï¸ ØªÙˆØ³Ø· RezvanGate Team
</p>
